package dev.flare24.mod.modules.impl.exploit;

import dev.flare24.Flare;
import dev.flare24.api.events.eventbus.EventHandler;
import dev.flare24.api.events.impl.PacketEvent;
import dev.flare24.asm.accessors.IPlayerMoveC2SPacket;
import dev.flare24.mod.modules.Module;
import net.minecraft.network.packet.c2s.play.PlayerMoveC2SPacket;

public class RaytraceBypass extends Module {
    public RaytraceBypass() {
        super("RaytraceBypass", Category.Exploit);
        setChinese("射线检查绕过");
    }

    @EventHandler
    public void onPacket(PacketEvent.Send event) {
        if (event.getPacket() instanceof PlayerMoveC2SPacket packet) {
            if (Flare.ROTATION.lastPitch != -91f) {
                ((IPlayerMoveC2SPacket) packet).setPitch(-91);
            }
        }
    }
}
